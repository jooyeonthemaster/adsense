# 상품별 특이사항 및 구현 현황

## 📋 전체 요약

| 상품 | 특이사항 수 | 구현률 | 미구현 핵심 기능 |
|------|------------|--------|------------------|
| 플레이스 유입 | 기본 | ✅ 100% | - |
| 영수증 리뷰 | 기본 | ✅ 90% | 리포트 다운로드 (관리자 등록 필요) |
| 카카오맵 리뷰 | ⭐⭐⭐ 복잡 | ⚠️ 60% | 메시지 히스토리, 검수 워크플로우 |
| 블로그 배포 | 기본 | ✅ 90% | 리포트 다운로드 |
| 카페 침투 | ⭐ 중간 | ✅ 85% | 구글시트 링크 (UI만 구현, DB 연결 필요) |
| 체험단 전체 | ⭐⭐⭐⭐ 매우 복잡 | ❌ 30% | 블로거 선택, 방문일정, 키워드 순위, 발행링크 관리 |

---

## 1️⃣ 플레이스 유입 (리워드)

### 요구사항
- [x] MID 자동 추출
- [x] 상태 표시: [확인중] [접수완료] [구동중]
- [x] 중단 기능 (환불 어려움 경고)
- [x] 진행률 표시

### 구현 현황: ✅ 100%
**페이지**: `/app/dashboard/reward/status/page.tsx`

**구현된 기능**:
```typescript
✅ MID 자동 추출 (URL 파싱)
✅ 상태 배지 (pending/in_progress/completed/cancelled)
✅ 진행률 바 (current_day/total_days 기반)
✅ 중단 다이얼로그 (동의 체크박스)
✅ AS 신청 버튼 (20% 미만 시)
✅ 데스크톱 테이블 + 모바일 카드
```

**미구현**: 없음

---

## 2️⃣ 영수증 리뷰 (방문자 리뷰)

### 요구사항
- [x] MID 자동 추출
- [x] 사진/원고 옵션 체크박스
- [x] 상태 표시: [확인중] [접수완료] [구동중]
- [x] 중단 기능 (부분 환불)
- [ ] **리포트 다운로드** ⚠️ (관리자가 등록하는 방향)

### 구현 현황: ✅ 90%
**페이지**: `/app/dashboard/review/visitor/status/page.tsx`

**구현된 기능**:
```typescript
✅ 사진/원고 옵션 배지 표시
✅ 상태 배지
✅ 진행률 계산 (start_date + daily_count 기반)
✅ 중단 다이얼로그 (부분 환불 안내)
⚠️ 리포트 다운로드 버튼 (UI만, 실제 파일은 관리자 등록 필요)
```

**미구현**:
- 리포트 다운로드 API (관리자가 리포트 등록 후 사용 가능)

---

## 3️⃣ 카카오맵 리뷰 (K맵 리뷰) ⭐⭐⭐

### 요구사항
- [x] 상태: [확인중] [원고/이미지 등록 대기] [검수 중] [수정 요청됨] [구동중] [완료]
- [x] 관리자가 이미지/원고 등록
- [x] 유저가 검수완료 or 수정요청 버튼
- [ ] **메시지 히스토리 (왕복)** ⚠️
- [ ] **검수 워크플로우 완전 구현** ⚠️

### 구현 현황: ⚠️ 60%
**페이지**: `/app/dashboard/review/kmap/status/page.tsx`

**구현된 기능**:
```typescript
✅ 7단계 상태 관리 (pending/waiting_content/review/revision_requested/in_progress/completed/cancelled)
✅ 이미지 갤러리 프리뷰 다이얼로그
✅ 원고 텍스트 프리뷰
✅ 검수 승인/수정요청 버튼
✅ 수정 요청 메모 입력
✅ 1:1 문의 다이얼로그 (채팅 UI)
⚠️ 메시지 전송 기능 (UI만, API 없음)
```

**미구현**:
1. **메시지 히스토리 왕복 저장** (DB 스키마 필요)
   - `kakaomap_messages` 테이블
   - sender, content, created_at, submission_id

2. **검수 워크플로우 백엔드**
   - 관리자 이미지/원고 업로드 API
   - 유저 검수 승인/수정요청 API
   - 상태 전환 로직

3. **실시간 알림** (검수 완료/수정 요청 시)

---

## 4️⃣ 블로그 배포 (영상/자동화/리뷰어)

### 요구사항
- [x] 상태 표시: [확인중] [접수완료] [구동중]
- [x] 중단 기능 (부분 환불)
- [x] 타입별 배지 (reviewer/video/automation)
- [x] 키워드 표시
- [ ] **리포트 다운로드** ⚠️
- [ ] **자동화 배포 하부계정 기능** (특정 회원만)

### 구현 현황: ✅ 90%
**페이지**: `/app/dashboard/blog-distribution/status/page.tsx`

**구현된 기능**:
```typescript
✅ 타입별 배지 (리뷰어/영상/자동화)
✅ 키워드 배지 (최대 3개 + 개수)
✅ 타입 필터 드롭다운
✅ 상태 관리
✅ 중단 다이얼로그
⚠️ 리포트 다운로드 버튼 (UI만)
```

**미구현**:
1. **리포트 다운로드 API**
2. **자동화 배포 - 하부계정 ID/충전요청건수** 입력 기능
   - 승인된 회원만 보이는 섹션

---

## 5️⃣ 카페 침투 마케팅 ⭐

### 요구사항
- [x] 상태: [확인중] [접수완료] [원고작성중] [원고작업완료] [구동중]
- [x] [원고작업완료] 시 구글스프레드시트 링크
- [x] 카페 리스트 표시
- [x] 사진 옵션
- [x] 중단 기능

### 구현 현황: ✅ 85%
**페이지**: `/app/dashboard/cafe/status/page.tsx`

**구현된 기능**:
```typescript
✅ 원고 상태 트래킹 (pending/writing/completed)
✅ 구글시트 링크 (script_url) - FileSpreadsheet 아이콘
✅ 카페 수 표시 (cafe_list.length)
✅ 사진 옵션 배지
✅ 중단 다이얼로그
```

**미구현**:
- 구글시트 링크 DB 연결 (현재 UI만 구현, script_url 필드는 있음)
- 관리자가 원고 완료 후 링크 등록하는 기능

---

## 6️⃣ 체험단 마케팅 ⭐⭐⭐⭐ (가장 복잡!)

### 6-1. 블로그 체험단

#### 요구사항
- [ ] **관리자가 블로거 리스트 기재** ⚠️
  - 이름/블로그주소/블로그지수
- [ ] **유저가 체크하여 선택** ⚠️
  - 체크박스로 블로거 선택
- [ ] **관리자가 방문 정보 기재** ⚠️
  - 방문희망일/시간/방문인원
- [ ] **유저 재확인 후 조율요청** ⚠️
  - 1:1 고객센터 링크
- [ ] **키워드 노출 현황** ⚠️
  - 관리자가 키워드+순위 기재
  - 탭 추가 생성
- [ ] **발행링크 관리** ⚠️
  - 모든 발행링크 채워지면 종료

#### 구현 현황: ❌ 30%
**페이지**: `/app/dashboard/experience/status/page.tsx`

**구현된 기능**:
```typescript
✅ 기본 테이블/카드 레이아웃
✅ 타입 배지 (blog-experience/xiaohongshu/journalist/influencer)
✅ 팀 수 표시
✅ 키워드 배지
✅ 블로거 선택 다이얼로그 (UI만)
  - 체크박스 인터페이스
  - 블로거 정보 (이름, 블로그 URL, 지수)
⚠️ 1:1 문의 버튼 (UI만)
```

**미구현** (핵심 기능들):

1. **블로거 리스트 관리 시스템** 🔴
   ```typescript
   // 필요한 DB 스키마
   interface ExperienceBlogger {
     id: string;
     submission_id: string;
     name: string;
     blog_url: string;
     index_score: number;
     selected_by_client: boolean; // 유저가 선택했는지
     visit_date?: string; // 관리자가 기재
     visit_time?: string;
     visit_count?: number;
     published: boolean; // 발행 완료 여부
     published_url?: string; // 발행 링크
     keyword_rankings?: { keyword: string; rank: number }[]; // 키워드 순위
   }
   ```

2. **워크플로우**:
   - Step 1: 관리자가 블로거 리스트 등록
   - Step 2: 유저가 체크박스로 선택
   - Step 3: 관리자가 방문 정보 입력
   - Step 4: 유저 확인 (조율요청 가능)
   - Step 5: 방문 후 발행
   - Step 6: 관리자가 키워드 순위 입력
   - Step 7: 발행 링크 모두 채워지면 완료

3. **UI 컴포넌트 필요**:
   - 블로거 선택 체크리스트
   - 방문 정보 표시
   - 키워드 순위 탭
   - 발행 링크 리스트
   - 진행 단계 표시

### 6-2. 샤오홍슈

#### 요구사항
- [ ] 관리자가 중국인 체험단 리스트 기재
- [ ] 유저 확인만 (선택 없음)
- [ ] 1:1 고객센터로 조율요청
- [ ] 발행링크 관리

#### 구현 현황: ❌ 20%
- 기본 UI만 있고 특이 워크플로우 미구현

### 6-3. 실계정 기자단

#### 요구사항
- [ ] 관리자가 기자단 리스트 기재
- [ ] 유저 확인만
- [ ] 각 인원별 수정요청 → 1:1 고객센터
- [ ] 발행링크 관리

#### 구현 현황: ❌ 20%
- 기본 UI만 있고 특이 워크플로우 미구현

### 6-4. 블로그 인플루언서

#### 요구사항
- [ ] 관리자가 블로거 리스트 기재
- [ ] 유저 확인만 (선택 없음)
- [ ] 관리자가 방문 정보 기재
- [ ] 1:1 고객센터로 조율요청
- [ ] 키워드 노출 현황
- [ ] 발행링크 관리

#### 구현 현황: ❌ 20%
- 기본 UI만 있고 특이 워크플로우 미구현

---

## 🎯 우선순위별 구현 필요 항목

### 🔴 Priority 1 (핵심 - 반드시 필요)

1. **카카오맵 리뷰 - 메시지 히스토리**
   - 관리자 ↔ 클라이언트 양방향 메시지
   - DB 스키마: `kakaomap_messages`
   - 실시간 업데이트

2. **체험단 - 블로거 선택 워크플로우**
   - 관리자 블로거 등록 → 유저 선택 → 관리자 방문정보 → 유저 확인
   - DB 스키마: `experience_bloggers`
   - 단계별 상태 관리

3. **체험단 - 발행링크 및 키워드 순위 관리**
   - 각 블로거별 발행 URL
   - 키워드별 순위 입력
   - 완료 조건 체크

### 🟡 Priority 2 (중요 - 사용성 향상)

1. **리포트 다운로드 기능**
   - 관리자가 엑셀 파일 업로드
   - 유저가 다운로드
   - 상품: 영수증 리뷰, 블로그 배포

2. **카카오맵 리뷰 - 검수 워크플로우 백엔드**
   - 관리자 이미지/원고 업로드 API
   - 유저 검수 승인/수정요청 API

3. **카페 침투 - 구글시트 링크 연동**
   - 관리자가 원고 완료 후 링크 등록
   - 유저에게 표시

### 🟢 Priority 3 (선택 - 향후 개선)

1. **블로그 배포 - 하부계정 기능**
   - 승인된 회원만 보이는 섹션
   - ID/충전요청건수 입력

2. **실시간 알림**
   - 검수 완료/수정 요청 시
   - 블로거 리스트 업데이트 시
   - 발행 완료 시

---

## 📊 구현 상태 요약

| 기능 범주 | 구현률 | 상태 |
|----------|--------|------|
| 기본 접수/현황 표시 | 95% | ✅ 완료 |
| 상태 관리 및 중단 | 90% | ✅ 거의 완료 |
| 리포트 다운로드 | 30% | ⚠️ UI만 |
| 카카오맵 검수 워크플로우 | 60% | ⚠️ 일부 구현 |
| 체험단 블로거 선택 시스템 | 10% | ❌ 미구현 |
| 체험단 발행링크 관리 | 0% | ❌ 미구현 |
| 키워드 순위 관리 | 0% | ❌ 미구현 |
| 1:1 고객센터 연동 | 40% | ⚠️ UI만 |

**전체 평균 구현률**: 약 **53%**

---

## 🚀 다음 단계 권장사항

1. **즉시 필요**:
   - 체험단 블로거 선택 워크플로우 DB 스키마 설계
   - 카카오맵 메시지 히스토리 테이블 추가

2. **단기 (1-2주)**:
   - 체험단 블로거 관리 UI/UX 완성
   - 발행링크 입력 및 완료 체크 로직

3. **중기 (1개월)**:
   - 키워드 순위 관리 탭
   - 리포트 다운로드 완전 구현
   - 카카오맵 검수 워크플로우 백엔드

4. **장기**:
   - 실시간 알림 시스템
   - 1:1 고객센터 통합
