# ë¦¬ë·° ë§ˆì¼€íŒ… API êµ¬í˜„ ì™„ë£Œ ë³´ê³ ì„œ

ì‘ì„±ì¼: 2025-01-16
ìƒíƒœ: âœ… API êµ¬í˜„ ì™„ë£Œ

---

## ğŸ“‹ êµ¬í˜„ ì™„ë£Œ í•­ëª©

### 1. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ í™•ì¥ âœ…

**íŒŒì¼**: `supabase/migrations/20250116_kakaomap_review_enhancements.sql`

**ì¶”ê°€ëœ í…Œì´ë¸” (3ê°œ)**:
1. `kakaomap_content_items` - ê´€ë¦¬ìê°€ ì—…ë¡œë“œí•œ ì½˜í…ì¸  (ì´ë¯¸ì§€ + ìŠ¤í¬ë¦½íŠ¸)
2. `kakaomap_revision_requests` - í´ë¼ì´ì–¸íŠ¸ì˜ ìˆ˜ì • ìš”ì²­ ë‚´ì—­
3. `kakaomap_messages` - 1:1 ë©”ì‹œì§• ëŒ€í™” ë‚´ì—­

**í™•ì¥ëœ ì»¬ëŸ¼**:
- `kakaomap_review_submissions.photo_ratio` - ì‚¬ì§„ ë¹„ìœ¨ (10-100%)
- `kakaomap_review_submissions.star_rating` - ë³„ì  ì˜µì…˜ (mixed/five/four)
- `kakaomap_review_submissions.script_type` - ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… (custom/provided)

**ë³´ì•ˆ**:
- RLS (Row Level Security) ì •ì±… ì ìš©
- ìë™ `updated_at` íŠ¸ë¦¬ê±° ì„¤ì •
- í´ë¼ì´ì–¸íŠ¸ëŠ” ìì‹ ì˜ ë°ì´í„°ë§Œ ì ‘ê·¼ ê°€ëŠ¥

---

### 2. TypeScript íƒ€ì… ì •ì˜ ì—…ë°ì´íŠ¸ âœ…

**íŒŒì¼**: `types/database.ts`

**ì¶”ê°€ëœ íƒ€ì…**:
```typescript
export type KakaomapReviewStatus =
  | 'pending' | 'waiting_content' | 'review'
  | 'revision_requested' | 'in_progress'
  | 'completed' | 'cancelled';

export type KakaomapContentItem = { ... }
export type KakaomapRevisionRequest = { ... }
export type KakaomapMessage = { ... }
```

---

## ğŸš€ API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ ìƒì„¸

### ë°©ë¬¸ì ë¦¬ë·° (Receipt Review) API

#### 1. GET `/api/submissions/receipt`
- **ê¸°ëŠ¥**: í´ë¼ì´ì–¸íŠ¸ì˜ ëª¨ë“  ë°©ë¬¸ì ë¦¬ë·° ì ‘ìˆ˜ ëª©ë¡ ì¡°íšŒ
- **ê¶Œí•œ**: client
- **ì‘ë‹µ**: ì ‘ìˆ˜ ëª©ë¡ (ìµœì‹ ìˆœ)
- **ì—°ê²°**: `app/dashboard/review/visitor/status/page.tsx:93`

#### 2. POST `/api/submissions/receipt`
- **ê¸°ëŠ¥**: ë°©ë¬¸ì ë¦¬ë·° ì ‘ìˆ˜ ìƒì„± (ê¸°ì¡´ êµ¬í˜„ ìœ ì§€)
- **ê¶Œí•œ**: client
- **ê²€ì¦**: í¬ì¸íŠ¸ ì¶©ë¶„ ì—¬ë¶€, ìµœì†Œ 30íƒ€
- **ì—°ê²°**: `app/dashboard/review/visitor/page.tsx:107-108`

#### 3. GET `/api/submissions/receipt/[id]`
- **ê¸°ëŠ¥**: íŠ¹ì • ì ‘ìˆ˜ ìƒì„¸ ì¡°íšŒ
- **ê¶Œí•œ**: client (ë³¸ì¸ ê²ƒë§Œ)
- **ì‘ë‹µ**: ì ‘ìˆ˜ ìƒì„¸ ì •ë³´

#### 4. PUT `/api/submissions/receipt/[id]`
- **ê¸°ëŠ¥**: ì ‘ìˆ˜ ì·¨ì†Œ ë˜ëŠ” ì—…ë°ì´íŠ¸
- **ê¶Œí•œ**: client (ë³¸ì¸ ê²ƒë§Œ)
- **ì·¨ì†Œ ë¡œì§**:
  - `pending` ìƒíƒœ: 100% í™˜ë¶ˆ
  - `approved` ìƒíƒœ: 50% í™˜ë¶ˆ
  - `completed`, `cancelled`: ì·¨ì†Œ ë¶ˆê°€
- **ì—°ê²°**: `app/dashboard/review/visitor/status/page.tsx:141`

---

### Kë§µ ë¦¬ë·° (KakaoMap Review) API

#### 1. GET `/api/submissions/kakaomap`
- **ê¸°ëŠ¥**: í´ë¼ì´ì–¸íŠ¸ì˜ ëª¨ë“  Kë§µ ë¦¬ë·° ì ‘ìˆ˜ ëª©ë¡ ì¡°íšŒ
- **ê¶Œí•œ**: client
- **ì¶”ê°€ ì •ë³´**:
  - `content_items_count` - ì—…ë¡œë“œëœ ì½˜í…ì¸  ê°œìˆ˜
  - `unread_messages_count` - ì½ì§€ ì•Šì€ ë©”ì‹œì§€ ê°œìˆ˜
- **ì—°ê²°**: `app/dashboard/review/kmap/status/page.tsx:120-124`

#### 2. POST `/api/submissions/kakaomap`
- **ê¸°ëŠ¥**: Kë§µ ë¦¬ë·° ì ‘ìˆ˜ ìƒì„± (ê¸°ì¡´ êµ¬í˜„ ìœ ì§€)
- **ê¶Œí•œ**: client
- **ê²€ì¦**: í¬ì¸íŠ¸ ì¶©ë¶„ ì—¬ë¶€, ìµœì†Œ 10íƒ€
- **ì—°ê²°**: `app/dashboard/review/kmap/page.tsx:82-83`

#### 3. GET `/api/submissions/kakaomap/[id]`
- **ê¸°ëŠ¥**: íŠ¹ì • ì ‘ìˆ˜ ìƒì„¸ ì¡°íšŒ + ê´€ë ¨ ë°ì´í„°
- **ê¶Œí•œ**: client (ë³¸ì¸ ê²ƒë§Œ)
- **ì‘ë‹µ í¬í•¨**:
  - ì ‘ìˆ˜ ì •ë³´
  - `content_items[]` - ì—…ë¡œë“œëœ ì½˜í…ì¸  ëª©ë¡
  - `revision_requests[]` - ìˆ˜ì • ìš”ì²­ ë‚´ì—­
  - `messages[]` - 1:1 ë©”ì‹œì§€ ë‚´ì—­

#### 4. PUT `/api/submissions/kakaomap/[id]`
- **ê¸°ëŠ¥**: ì ‘ìˆ˜ ì·¨ì†Œ ë˜ëŠ” ì—…ë°ì´íŠ¸
- **ê¶Œí•œ**: client (ë³¸ì¸ ê²ƒë§Œ)
- **ì·¨ì†Œ ë¡œì§**:
  - `pending`, `waiting_content` ìƒíƒœ: 100% í™˜ë¶ˆ
  - ë‹¤ë¥¸ ìƒíƒœ: ì·¨ì†Œ ë¶ˆê°€
- **íŠ¹ìˆ˜ ì•¡ì…˜**:
  - `action: "approve_content"` - ì½˜í…ì¸  ìŠ¹ì¸ â†’ `in_progress` ìƒíƒœë¡œ ë³€ê²½
- **ì—°ê²°**: `app/dashboard/review/kmap/status/page.tsx:155-170`

---

### Kë§µ ë¦¬ë·° íŠ¹ìˆ˜ ê¸°ëŠ¥ API

#### 5. POST `/api/submissions/kakaomap/[id]/revision`
- **ê¸°ëŠ¥**: ìˆ˜ì • ìš”ì²­ ìƒì„±
- **ê¶Œí•œ**: client (ë³¸ì¸ ê²ƒë§Œ)
- **ì¡°ê±´**: `review` ìƒíƒœì¼ ë•Œë§Œ ê°€ëŠ¥
- **ë™ì‘**:
  1. `kakaomap_revision_requests` í…Œì´ë¸”ì— ìš”ì²­ ìƒì„±
  2. ì ‘ìˆ˜ ìƒíƒœë¥¼ `revision_requested`ë¡œ ë³€ê²½
  3. ìë™ìœ¼ë¡œ ì•Œë¦¼ ë©”ì‹œì§€ ìƒì„±
- **ì…ë ¥**: `request_content` (í•„ìˆ˜), `request_reason` (ì„ íƒ)
- **ì—°ê²°**: `app/dashboard/review/kmap/status/page.tsx:155-170` (ìˆ˜ì • ìš”ì²­ ë²„íŠ¼)

#### 6. GET `/api/submissions/kakaomap/[id]/revision`
- **ê¸°ëŠ¥**: ìˆ˜ì • ìš”ì²­ ë‚´ì—­ ì¡°íšŒ
- **ê¶Œí•œ**: client (ë³¸ì¸ ê²ƒë§Œ)
- **ì‘ë‹µ**: ëª¨ë“  ìˆ˜ì • ìš”ì²­ ë‚´ì—­ (ìµœì‹ ìˆœ)

#### 7. GET `/api/submissions/kakaomap/[id]/messages`
- **ê¸°ëŠ¥**: 1:1 ë©”ì‹œì§€ ì¡°íšŒ
- **ê¶Œí•œ**: client, admin
- **ë™ì‘**:
  - ëª¨ë“  ë©”ì‹œì§€ ì¡°íšŒ (ì‹œê°„ìˆœ)
  - ìƒëŒ€ë°©ì´ ë³´ë‚¸ ë©”ì‹œì§€ë¥¼ ìë™ìœ¼ë¡œ ì½ìŒ ì²˜ë¦¬
- **ì—°ê²°**: `app/dashboard/review/kmap/status/page.tsx:698-765` (ë©”ì‹œì§€ ëŒ€í™”ì°½)

#### 8. POST `/api/submissions/kakaomap/[id]/messages`
- **ê¸°ëŠ¥**: 1:1 ë©”ì‹œì§€ ì „ì†¡
- **ê¶Œí•œ**: client, admin
- **ì…ë ¥**:
  - `content` (í•„ìˆ˜) - ë©”ì‹œì§€ ë‚´ìš©
  - `attachment_url` (ì„ íƒ) - ì²¨ë¶€íŒŒì¼ URL
  - `attachment_name` (ì„ íƒ) - ì²¨ë¶€íŒŒì¼ ì´ë¦„
- **ì—°ê²°**: `app/dashboard/review/kmap/status/page.tsx:698-765` (ë©”ì‹œì§€ ì „ì†¡ ë²„íŠ¼)

---

### ê´€ë¦¬ì ì „ìš© API

#### 9. POST `/api/admin/kakaomap/[id]/content`
- **ê¸°ëŠ¥**: ì½˜í…ì¸  (ì´ë¯¸ì§€ + ìŠ¤í¬ë¦½íŠ¸) ì—…ë¡œë“œ
- **ê¶Œí•œ**: admin
- **ì…ë ¥**:
  - `image_url` ë˜ëŠ” `script_text` ì¤‘ í•˜ë‚˜ í•„ìˆ˜
  - `file_name`, `file_size`, `upload_order`
- **ë™ì‘**:
  1. `kakaomap_content_items` í…Œì´ë¸”ì— ì½˜í…ì¸  ìƒì„±
  2. ì²« ì—…ë¡œë“œ ì‹œ ì ‘ìˆ˜ ìƒíƒœë¥¼ `waiting_content`ë¡œ ë³€ê²½
  3. ëª¨ë“  ì½˜í…ì¸  ì—…ë¡œë“œ ì™„ë£Œ ì‹œ `review` ìƒíƒœë¡œ ë³€ê²½ + í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë¦¼ ë©”ì‹œì§€ ì „ì†¡
- **ê²€ì¦**: `total_count` ì´ˆê³¼ ì‹œ ì—…ë¡œë“œ ë¶ˆê°€

#### 10. GET `/api/admin/kakaomap/[id]/content`
- **ê¸°ëŠ¥**: ì—…ë¡œë“œëœ ì½˜í…ì¸  ëª©ë¡ ì¡°íšŒ
- **ê¶Œí•œ**: admin
- **ì‘ë‹µ**:
  - `content_items[]` - ì½˜í…ì¸  ëª©ë¡
  - `total_count` - ì´ í•„ìš” ê°œìˆ˜
  - `uploaded_count` - ì—…ë¡œë“œëœ ê°œìˆ˜
  - `submission_status` - í˜„ì¬ ì ‘ìˆ˜ ìƒíƒœ

#### 11. DELETE `/api/admin/kakaomap/[id]/content?item_id={id}`
- **ê¸°ëŠ¥**: ì—…ë¡œë“œëœ ì½˜í…ì¸  ì‚­ì œ
- **ê¶Œí•œ**: admin
- **íŒŒë¼ë¯¸í„°**: `item_id` (query string)

---

## ğŸ¯ APIì™€ UI ì—°ê²° í˜„í™©

### ë°©ë¬¸ì ë¦¬ë·° í˜ì´ì§€

| UI ê¸°ëŠ¥ | API ì—”ë“œí¬ì¸íŠ¸ | ìƒíƒœ |
|--------|---------------|------|
| ì ‘ìˆ˜ í¼ ì œì¶œ | POST `/api/submissions/receipt` | âœ… ì—°ê²°ë¨ |
| ì ‘ìˆ˜ ëª©ë¡ ì¡°íšŒ | GET `/api/submissions/receipt` | âœ… êµ¬í˜„ ì™„ë£Œ |
| ì ‘ìˆ˜ ì·¨ì†Œ | PUT `/api/submissions/receipt/[id]` | âœ… êµ¬í˜„ ì™„ë£Œ |
| ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ | GET `/api/submissions/receipt/[id]/report` | â³ í–¥í›„ êµ¬í˜„ |

### Kë§µ ë¦¬ë·° í˜ì´ì§€

| UI ê¸°ëŠ¥ | API ì—”ë“œí¬ì¸íŠ¸ | ìƒíƒœ |
|--------|---------------|------|
| ì ‘ìˆ˜ í¼ ì œì¶œ | POST `/api/submissions/kakaomap` | âœ… ì—°ê²°ë¨ |
| ì ‘ìˆ˜ ëª©ë¡ ì¡°íšŒ | GET `/api/submissions/kakaomap` | âœ… êµ¬í˜„ ì™„ë£Œ |
| ì ‘ìˆ˜ ìƒì„¸ ì¡°íšŒ | GET `/api/submissions/kakaomap/[id]` | âœ… êµ¬í˜„ ì™„ë£Œ |
| ì½˜í…ì¸  ê²€ìˆ˜ ìŠ¹ì¸ | PUT `/api/submissions/kakaomap/[id]` (action: approve_content) | âœ… êµ¬í˜„ ì™„ë£Œ |
| ìˆ˜ì • ìš”ì²­ | POST `/api/submissions/kakaomap/[id]/revision` | âœ… êµ¬í˜„ ì™„ë£Œ |
| 1:1 ë©”ì‹œì§€ ì¡°íšŒ | GET `/api/submissions/kakaomap/[id]/messages` | âœ… êµ¬í˜„ ì™„ë£Œ |
| 1:1 ë©”ì‹œì§€ ì „ì†¡ | POST `/api/submissions/kakaomap/[id]/messages` | âœ… êµ¬í˜„ ì™„ë£Œ |

---

## ğŸ“Š ìƒíƒœ íë¦„ë„

### Kë§µ ë¦¬ë·° ìƒíƒœ ì „í™˜

```
pending (ì ‘ìˆ˜ ëŒ€ê¸°)
  â†“
  [ê´€ë¦¬ìê°€ ì²« ì½˜í…ì¸  ì—…ë¡œë“œ]
  â†“
waiting_content (ì½˜í…ì¸  ì—…ë¡œë“œ ì¤‘)
  â†“
  [ëª¨ë“  ì½˜í…ì¸  ì—…ë¡œë“œ ì™„ë£Œ]
  â†“
review (ê²€ìˆ˜ ëŒ€ê¸°)
  â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                â”‚                â”‚
  [í´ë¼ì´ì–¸íŠ¸ ìŠ¹ì¸]  [í´ë¼ì´ì–¸íŠ¸ ìˆ˜ì • ìš”ì²­]  [í´ë¼ì´ì–¸íŠ¸ ì·¨ì†Œ]
  â†“                â†“                â†“
in_progress      revision_requested  cancelled
  â†“                â†“
  [ì‘ì—… ì™„ë£Œ]        [ê´€ë¦¬ì ìˆ˜ì • ì™„ë£Œ â†’ reviewë¡œ ë³µê·€]
  â†“
completed
```

---

## ğŸ”’ ë³´ì•ˆ ë° ê¶Œí•œ ì²´ê³„

### í´ë¼ì´ì–¸íŠ¸ (client)
- âœ… ìì‹ ì˜ ì ‘ìˆ˜ë§Œ ì¡°íšŒ/ìˆ˜ì • ê°€ëŠ¥
- âœ… ì·¨ì†Œ ì‹œ ìƒíƒœì— ë”°ë¥¸ í™˜ë¶ˆìœ¨ ì ìš©
- âœ… ìˆ˜ì • ìš”ì²­ì€ `review` ìƒíƒœì—ì„œë§Œ ê°€ëŠ¥
- âœ… ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬ ìë™í™”

### ê´€ë¦¬ì (admin)
- âœ… ëª¨ë“  ì ‘ìˆ˜ ì¡°íšŒ/ê´€ë¦¬ ê°€ëŠ¥
- âœ… ì½˜í…ì¸  ì—…ë¡œë“œ/ì‚­ì œ ê¶Œí•œ
- âœ… ìˆ˜ì • ìš”ì²­ ì²˜ë¦¬ ê¶Œí•œ
- âœ… 1:1 ë©”ì‹œì§• ì°¸ì—¬

### ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ (RLS)
- âœ… Row Level Security ì •ì±… ì ìš©
- âœ… í´ë¼ì´ì–¸íŠ¸ëŠ” `client_id = auth.uid()` ì¡°ê±´ìœ¼ë¡œ ì œí•œ
- âœ… ê´€ë¦¬ìëŠ” ëª¨ë“  ë°ì´í„° ì ‘ê·¼ ê°€ëŠ¥

---

## âš ï¸ ë‚¨ì€ ì‘ì—…

### 1. ê´€ë¦¬ì í˜ì´ì§€ (0% ì™„ë£Œ)

**í•„ìš”í•œ í˜ì´ì§€**:
1. `/admin/kakaomap` - Kë§µ ë¦¬ë·° ì ‘ìˆ˜ ëª©ë¡
2. `/admin/kakaomap/[id]` - ì ‘ìˆ˜ ìƒì„¸ + ì½˜í…ì¸  ì—…ë¡œë“œ UI
3. `/admin/kakaomap/[id]/messages` - 1:1 ë©”ì‹œì§• ê´€ë¦¬

**êµ¬í˜„í•´ì•¼ í•  ê¸°ëŠ¥**:
- ì ‘ìˆ˜ ëª©ë¡ í…Œì´ë¸” (í•„í„°ë§, ê²€ìƒ‰)
- ì½˜í…ì¸  ì—…ë¡œë“œ í¼ (ì´ë¯¸ì§€ + ìŠ¤í¬ë¦½íŠ¸)
- ì—…ë¡œë“œëœ ì½˜í…ì¸  ë¯¸ë¦¬ë³´ê¸°
- ìˆ˜ì • ìš”ì²­ ë‚´ì—­ ì¡°íšŒ
- 1:1 ë©”ì‹œì§• ì¸í„°í˜ì´ìŠ¤

### 2. í´ë¼ì´ì–¸íŠ¸ í˜ì´ì§€ API ì—°ê²°

**í•„ìš”í•œ ì‘ì—…**:
- `app/dashboard/review/visitor/status/page.tsx` - API ì—°ê²° (TODO ì œê±°)
- `app/dashboard/review/kmap/status/page.tsx` - API ì—°ê²° (TODO ì œê±°)

### 3. íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥

**í•„ìš”í•œ êµ¬í˜„**:
- Supabase Storage ì—…ë¡œë“œ í—¬í¼ í•¨ìˆ˜
- ì´ë¯¸ì§€ íŒŒì¼ ê²€ì¦ (JPG, PNG)
- ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ê²€ì¦ (TXT, PDF)
- íŒŒì¼ í¬ê¸° ì œí•œ (ì˜ˆ: 5MB)

### 4. ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ (ì„ íƒ)

**ì—”ë“œí¬ì¸íŠ¸**:
- GET `/api/submissions/receipt/[id]/report`
- GET `/api/submissions/kakaomap/[id]/report`

---

## ğŸ“ˆ êµ¬í˜„ ì§„í–‰ë¥ 

| í•­ëª© | ì§„í–‰ë¥  | ìƒíƒœ |
|-----|-------|------|
| ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ | 100% | âœ… ì™„ë£Œ |
| TypeScript íƒ€ì… ì •ì˜ | 100% | âœ… ì™„ë£Œ |
| API ì—”ë“œí¬ì¸íŠ¸ | 100% | âœ… ì™„ë£Œ (11ê°œ) |
| í´ë¼ì´ì–¸íŠ¸ í˜ì´ì§€ API ì—°ê²° | 10% | ğŸ”„ ì§„í–‰ ì¤‘ |
| ê´€ë¦¬ì í˜ì´ì§€ | 0% | â³ ëŒ€ê¸° ì¤‘ |
| íŒŒì¼ ì—…ë¡œë“œ | 0% | â³ ëŒ€ê¸° ì¤‘ |

**ì „ì²´ ì§„í–‰ë¥ **: ì•½ 65%

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ìš°ì„ ìˆœìœ„ 1: ê´€ë¦¬ì í˜ì´ì§€ êµ¬í˜„
1. ì ‘ìˆ˜ ëª©ë¡ í˜ì´ì§€ ìƒì„±
2. ì½˜í…ì¸  ì—…ë¡œë“œ UI êµ¬í˜„
3. 1:1 ë©”ì‹œì§• ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

### ìš°ì„ ìˆœìœ„ 2: í´ë¼ì´ì–¸íŠ¸ í˜ì´ì§€ ì™„ì„±
1. API ì—°ê²° (TODO ì œê±°)
2. ì—ëŸ¬ í•¸ë“¤ë§ ì¶”ê°€
3. ë¡œë”© ìƒíƒœ UI ê°œì„ 

### ìš°ì„ ìˆœìœ„ 3: íŒŒì¼ ì—…ë¡œë“œ
1. Supabase Storage ì„¤ì •
2. ì—…ë¡œë“œ í—¬í¼ í•¨ìˆ˜ ì‘ì„±
3. íŒŒì¼ ê²€ì¦ ë¡œì§ ì¶”ê°€

---

## ğŸ“ ì°¸ê³ ì‚¬í•­

### ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ ë°©ë²•
```bash
# Supabase CLI ì‚¬ìš©
npx supabase db push

# ë˜ëŠ” Supabase ëŒ€ì‹œë³´ë“œì—ì„œ SQL ì§ì ‘ ì‹¤í–‰
# íŒŒì¼: supabase/migrations/20250116_kakaomap_review_enhancements.sql
```

### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

**ë°©ë¬¸ì ë¦¬ë·° í”Œë¡œìš°**:
1. í´ë¼ì´ì–¸íŠ¸: ì ‘ìˆ˜ ìƒì„± â†’ `pending`
2. ê´€ë¦¬ì: ìŠ¹ì¸ â†’ `approved`
3. ì‹œìŠ¤í…œ: ìë™ ì§„í–‰ â†’ `in_progress`
4. í´ë¼ì´ì–¸íŠ¸: ì§„í–‰ ìƒí™© í™•ì¸ â†’ `completed` ë˜ëŠ” `cancelled`

**Kë§µ ë¦¬ë·° í”Œë¡œìš°**:
1. í´ë¼ì´ì–¸íŠ¸: ì ‘ìˆ˜ ìƒì„± â†’ `pending`
2. ê´€ë¦¬ì: ì½˜í…ì¸  ì—…ë¡œë“œ (1/10) â†’ `waiting_content`
3. ê´€ë¦¬ì: ì½˜í…ì¸  ì—…ë¡œë“œ ì™„ë£Œ (10/10) â†’ `review`
4. í´ë¼ì´ì–¸íŠ¸: ê²€ìˆ˜ ë° ìŠ¹ì¸ â†’ `in_progress`
5. í´ë¼ì´ì–¸íŠ¸: (ì„ íƒ) ìˆ˜ì • ìš”ì²­ â†’ `revision_requested`
6. ê´€ë¦¬ì: ìˆ˜ì • ì™„ë£Œ â†’ ë‹¤ì‹œ `review`
7. ì‹œìŠ¤í…œ: ì‘ì—… ì™„ë£Œ â†’ `completed`

---

**ì‘ì„±ì**: Claude
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-16
